{% extends 'auths/base_dashboard.html' %}
{% block content %}
<div class="p-6 max-w-2xl mx-auto">
  <h2 class="text-3xl font-semibold text-gray-800 mb-6 flex items-center gap-2">
    ✏️ <span>Edit User</span>
  </h2>

  <form method="post" class="bg-white border border-gray-100 p-6 rounded-2xl shadow-md space-y-6">
    {% csrf_token %}

    <!-- Username -->
    <div>
      <label for="username" class="block text-sm font-medium text-gray-700 mb-1">Username</label>
      <input type="text" name="username" id="username" value="{{ user.username }}"
             class="w-full px-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"
             required>
    </div>

    <!-- Email -->
    <div>
      <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
      <input type="email" name="email" id="email" value="{{ user.email }}"
             class="w-full px-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"
             required>
    </div>

    <!-- Role -->
    <div>
      <label for="role" class="block text-sm font-medium text-gray-700 mb-1">Role</label>
      <select name="role" id="role"
              class="w-full px-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"
              required>
        <option value="admin" {% if user.role == "admin" %}selected{% endif %}>Admin</option>
        <option value="farmer" {% if user.role == "farmer" %}selected{% endif %}>Farmer</option>
        <option value="collector" {% if user.role == "collector" %}selected{% endif %}>Collector</option>
      </select>
    </div>

    <!-- Action Buttons -->
    <div class="flex justify-between items-center pt-4 border-t border-gray-200">
      <button type="submit"
              class="inline-block px-6 py-2 bg-blue-600 text-white rounded-lg text-sm font-semibold shadow hover:bg-blue-700 transition">
        ✅ Update User
      </button>
      <a href="{% url 'admin_dashboard:manage_users' %}"
         class="text-sm text-gray-600 hover:text-gray-800 hover:underline transition">
        ← Cancel
      </a>
    </div>
  </form>
</div>
{% endblock %}
